# DALRN Production Environment Configuration
# Copy this file to .env and set actual values
# NEVER commit actual passwords to version control

# Database Configuration
DATABASE_DRIVER=postgresql
DATABASE_USER=dalrn_user
DATABASE_PASSWORD=${DALRN_DB_PASSWORD}  # Set via environment variable
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=dalrn_production

# Alternative: Full connection string
# DATABASE_URL=postgresql://user:pass@host:5432/dbname

# Authentication
JWT_SECRET=${DALRN_JWT_SECRET}  # Generate with: openssl rand -hex 32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Redis Cache
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=${DALRN_REDIS_PASSWORD}  # Set if Redis requires auth
REDIS_DB=0

# Service Ports
GATEWAY_PORT=8000
SEARCH_PORT=8100
FHE_PORT=8200
NEGOTIATION_PORT=8300
FL_PORT=8400
AGENTS_PORT=8500

# PoDP Configuration
PODP_ENABLED=true
PODP_MERKLE_ALGO=keccak256
PODP_RECEIPT_TTL=86400

# Epsilon Budget
EPSILON_BUDGET_DEFAULT=4.0
EPSILON_OVERFLOW_PREVENTION=true

# IPFS Configuration
IPFS_API=http://ipfs:5001
IPFS_GATEWAY=http://ipfs:8080

# Blockchain
WEB3_PROVIDER_URL=${DALRN_WEB3_PROVIDER}  # Your Ethereum RPC endpoint
ANCHOR_CONTRACT_ADDRESS=${DALRN_CONTRACT_ADDRESS}  # Deployed contract address

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
METRICS_ENABLED=true

# Security
RATE_LIMIT_REQUESTS_PER_MINUTE=100
CORS_ALLOWED_ORIGINS=["https://your-domain.com"]
SSL_CERT_FILE=/path/to/cert.pem
SSL_KEY_FILE=/path/to/key.pem

# Logging
LOG_LEVEL=INFO
LOG_FILE=/var/log/dalrn/gateway.log
LOG_FORMAT=json

# Feature Flags
ENABLE_GPU_ACCELERATION=false
ENABLE_CROSS_SILO_FL=false
ENABLE_DEBUG_MODE=false